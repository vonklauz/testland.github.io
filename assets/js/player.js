document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector("audio")){const e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,t={click:e?"touchstart":"mousedown",move:e?"touchmove":"mousemove",end:e?"touchend":"mouseup"},n=new Audio(document.querySelector("audio").src),o="showed-control",c="hidden-control",r=document.querySelectorAll(".controls-component"),i=(e,t)=>{e.classList.remove(o),e.classList.add(c),t.classList.add(o),t.classList.remove(c)},d=e=>(e-(e%=60))/60+(9<e?":":":0")+e,a=e=>{const t=e.duration.toFixed(0);return e.currentTime.toFixed(0)/(t/100)};setTimeout(()=>{r.forEach((o,c)=>{const r=o.querySelector('[data-action="play"]'),u=o.querySelector('[data-action="stop"]'),s=o.querySelector('[data-action="back"]'),l=o.querySelector('[data-action="forward"]'),m=o.querySelector(".line"),v=o.querySelector(".time"),h=setInterval(()=>{m.style.width=a(n)+"%"},1e3);setInterval(()=>{v.textContent=d((n.duration-n.currentTime).toFixed(0))},1e3);m.addEventListener(t.click,o=>{const c=e?o.changedTouches[0].clientX:o.x,r=m.style.width;clearInterval(h);const i=e=>{m.removeEventListener(t.move,a);const o=m.offsetWidth/(m.parentElement.offsetWidth/100);n.currentTime=o*(n.duration/100),v.textContent=d((n.duration-n.currentTime).toFixed(0))},a=t=>{if(t.target===m||t.target===m.querySelector(".dot")){const n=e?t.changedTouches[0].clientX-c:t.x-c;m.style.width=`calc(${r} + ${n}px)`}else i()};m.addEventListener(t.move,a),m.addEventListener(t.end,i)}),r&&r.addEventListener("click",()=>{i(r,u),n.play()}),u&&u.addEventListener("click",()=>{i(u,r),n.pause()}),s&&s.addEventListener("click",()=>{n.currentTime=n.currentTime<15?0:n.currentTime-15,m.style.width=a(n)+"%",v.textContent=d((n.duration-n.currentTime).toFixed(0))}),l&&l.addEventListener("click",()=>{n.currentTime=n.currentTime<n.duration-15?n.currentTime+15:n.duration,m.style.width=a(n)+"%",v.textContent=d((n.duration-n.currentTime).toFixed(0))}),n.addEventListener("ended",e=>{i(u,r)}),r&&u&&document.addEventListener("keydown",(function(e){"Space"===e.code&&(n.paused?(n.play(),i(r,u)):(n.pause(),i(u,r)))}))})},1e3)}}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYXllci5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJxdWVyeVNlbGVjdG9yIiwiaXNUb3VjaCIsIndpbmRvdyIsIkRvY3VtZW50VG91Y2giLCJuYXZpZ2F0b3IiLCJtYXhUb3VjaFBvaW50cyIsIm1zTWF4VG91Y2hQb2ludHMiLCJldmVudHMiLCJjbGljayIsIm1lZGlhRmlsZSIsIkF1ZGlvIiwic3JjIiwic2hvd2VkU3R5bGVDbGFzcyIsImhpZGRlblN0eWxlQ2xhc3MiLCJjb250cm9scyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0cmlnZ2VyU2hvdyIsIiR0b0hpZGVFbCIsIiR0b1Nob3dFbCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImZtdE1TUyIsInMiLCJjb3VudFBsYXllZFBlcmNlbnRzIiwiZHVyYXRpb24iLCJ0b0ZpeGVkIiwiY3VycmVudFRpbWUiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsImNvbnRyb2wiLCJuIiwicGxheUJ0biIsInN0b3BCdG4iLCJmb3J3YXJkIiwicHJvZ3Jlc3NMaW5lIiwidGltZURpdiIsInBsYXlpbmdJbnRlcnZhbCIsInNldEludGVydmFsIiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsInN0YXJ0ZWRYIiwicG9pbnRlcmRvd25FdmVudCIsImxpbmVXaWR0aCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsIngiLCJzdHlsZSIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGluZUZpbGxpbmdQZXJjZW50YWdlIiwib2Zmc2V0V2lkdGgiLCJwYXJlbnRFbGVtZW50IiwicG9pbnRlcm1vdmVFdmVudCIsIm9mZnNldFgiLCJ0YXJnZXQiLCJwb2ludGVyVXBMaXN0ZW5lciIsImVuZCIsInBsYXkiLCJiYWNrIiwiZXZlbnQiLCJlIiwiY29kZSIsInBhdXNlZCIsInBhdXNlIl0sIm1hcHBpbmdzIjoiQUFBQUEsU0FBU0MsaUJBQWlCLG9CQUFvQixXQUMxQyxH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ZSxJQUN0QmdCLEVBQUFBLFlBQXNCL0IsR0FBVWdCLEVBQVZBLFNBQStCRSxFQUFBQSxhQUFqQ0QsUUFBNUIsTUFJQVYsR0FBWWlCLEVBQVNELGlCQUFyQixRQUFBLEtBREp2QixFQUFBa0IsWUFBQWxCLEVBQUFrQixZQUFBbEIsRUFBQWdCLFNBQUEsR0FBQWhCLEVBQUFrQixZQUFBLEdBQUFsQixFQUFBZ0IsU0FJV1EsRUFBV25DLE1BQVNDLE1BQUFBLEVBQTRCVSxHQUE1QlYsSUFDdkJxQyxFQUFXSSxZQUFTbEIsR0FBQWIsRUFBQWdCLFNBQUFoQixFQUFBa0IsYUFBQUQsUUFBQSxNQUdoQlYsRUFBWWdCLGlCQUFaLFFBQUE0QixJQUNHNUMsRUFBQWlCLEVBQUFELEtBR05BLEdBQUFDLEdBQUFuQyxTQUFBQyxpQkFBQSxXQUFBLFNBQUE4RCxHQUNKLFVBQUFBLEVBQUFDLE9BVExyRCxFQUFBc0QsUUFsRUp0RCxFQUFBaUQsT0FESjFDLEVBQUFnQixFQUFBQyxLQTVCUnhCLEVBQUF1RCxRQXNHNEJoRCxFQUFZaUIsRUFBU0QsV0FLdEMiLCJmaWxlIjoicGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhdWRpbycpKSB7XHJcbiAgICAgICAgY29uc3QgaXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoIHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDAgfHwgd2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMFxyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHtcclxuICAgICAgICAgICAgY2xpY2s6IGlzVG91Y2ggPyAndG91Y2hzdGFydCcgOiAnbW91c2Vkb3duJyxcclxuICAgICAgICAgICAgbW92ZTogIGlzVG91Y2ggPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnLFxyXG4gICAgICAgICAgICBlbmQ6IGlzVG91Y2ggPyAndG91Y2hlbmQnIDogJ21vdXNldXAnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1lZGlhRmlsZSA9IG5ldyBBdWRpbyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhdWRpbycpLnNyYylcclxuICAgICAgICBjb25zdCBzaG93ZWRTdHlsZUNsYXNzID0gJ3Nob3dlZC1jb250cm9sJ1xyXG4gICAgICAgIGNvbnN0IGhpZGRlblN0eWxlQ2xhc3MgPSAnaGlkZGVuLWNvbnRyb2wnXHJcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udHJvbHMtY29tcG9uZW50JylcclxuICAgICAgICBjb25zdCB0cmlnZ2VyU2hvdyA9ICgkdG9IaWRlRWwsICR0b1Nob3dFbCkgPT4ge1xyXG4gICAgICAgICAgICAkdG9IaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShzaG93ZWRTdHlsZUNsYXNzKVxyXG4gICAgICAgICAgICAkdG9IaWRlRWwuY2xhc3NMaXN0LmFkZChoaWRkZW5TdHlsZUNsYXNzKVxyXG5cclxuICAgICAgICAgICAgJHRvU2hvd0VsLmNsYXNzTGlzdC5hZGQoc2hvd2VkU3R5bGVDbGFzcylcclxuICAgICAgICAgICAgJHRvU2hvd0VsLmNsYXNzTGlzdC5yZW1vdmUoaGlkZGVuU3R5bGVDbGFzcylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZtdE1TUyA9IChzKSA9PiAocyAtIChzICU9IDYwKSkgLyA2MCArICg5IDwgcyA/ICc6JyA6ICc6MCcpICsgc1xyXG5cclxuICAgICAgICBjb25zdCBjb3VudFBsYXllZFBlcmNlbnRzID0gKG1lZGlhRmlsZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IG1lZGlhRmlsZS5kdXJhdGlvbi50b0ZpeGVkKDApXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbWVkaWFGaWxlLmN1cnJlbnRUaW1lLnRvRml4ZWQoMClcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lIC8gKGR1cmF0aW9uIC8gMTAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xzLmZvckVhY2goKGNvbnRyb2wsIG4pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXlCdG4gPSBjb250cm9sLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbj1cInBsYXlcIl0nKVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcEJ0biA9IGNvbnRyb2wucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aW9uPVwic3RvcFwiXScpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrID0gY29udHJvbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJiYWNrXCJdJylcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmQgPSBjb250cm9sLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbj1cImZvcndhcmRcIl0nKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NMaW5lID0gY29udHJvbC5xdWVyeVNlbGVjdG9yKCcubGluZScpXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lRGl2ID0gY29udHJvbC5xdWVyeVNlbGVjdG9yKCcudGltZScpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5aW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NMaW5lLnN0eWxlLndpZHRoID0gYCR7Y291bnRQbGF5ZWRQZXJjZW50cyhtZWRpYUZpbGUpfSVgXHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVEaXYudGV4dENvbnRlbnQgPSBmbXRNU1MoKG1lZGlhRmlsZS5kdXJhdGlvbiAtIG1lZGlhRmlsZS5jdXJyZW50VGltZSkudG9GaXhlZCgwKSlcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApXHJcblxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NMaW5lLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLmNsaWNrLCAocG9pbnRlcmRvd25FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ZWRYID0gIWlzVG91Y2ggPyBwb2ludGVyZG93bkV2ZW50LnggOiBwb2ludGVyZG93bkV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFhcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBwcm9ncmVzc0xpbmUuc3R5bGUud2lkdGhcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHBsYXlpbmdJbnRlcnZhbClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRlclVwTGlzdGVuZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0xpbmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMubW92ZSwgcG9pbnRlcm1vdmVMaXN0ZW5lcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZUZpbGxpbmdQZXJjZW50YWdlID0gcHJvZ3Jlc3NMaW5lLm9mZnNldFdpZHRoIC8gKHByb2dyZXNzTGluZS5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoIC8gMTAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUZpbGUuY3VycmVudFRpbWUgPSBsaW5lRmlsbGluZ1BlcmNlbnRhZ2UgKiAobWVkaWFGaWxlLmR1cmF0aW9uIC8gMTAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGl2LnRleHRDb250ZW50ID0gZm10TVNTKChtZWRpYUZpbGUuZHVyYXRpb24gLSBtZWRpYUZpbGUuY3VycmVudFRpbWUpLnRvRml4ZWQoMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludGVybW92ZUxpc3RlbmVyID0gKHBvaW50ZXJtb3ZlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJtb3ZlRXZlbnQudGFyZ2V0ID09PSBwcm9ncmVzc0xpbmUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJtb3ZlRXZlbnQudGFyZ2V0ID09PSBwcm9ncmVzc0xpbmUucXVlcnlTZWxlY3RvcignLmRvdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gIWlzVG91Y2ggPyBwb2ludGVybW92ZUV2ZW50LnggLSBzdGFydGVkWCA6IHBvaW50ZXJtb3ZlRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHN0YXJ0ZWRYXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0xpbmUuc3R5bGUud2lkdGggPSBgY2FsYygke2xpbmVXaWR0aH0gKyAke29mZnNldFh9cHgpYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclVwTGlzdGVuZXIobnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0xpbmUuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMubW92ZSwgcG9pbnRlcm1vdmVMaXN0ZW5lcilcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NMaW5lLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLmVuZCwgcG9pbnRlclVwTGlzdGVuZXIpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIHBsYXlCdG4gJiYgcGxheUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU2hvdyhwbGF5QnRuLCBzdG9wQnRuKVxyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRmlsZS5wbGF5KClcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgc3RvcEJ0biAmJiBzdG9wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTaG93KHN0b3BCdG4sIHBsYXlCdG4pXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWxlLnBhdXNlKClcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgYmFjayAmJiBiYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRmlsZS5jdXJyZW50VGltZSA9IG1lZGlhRmlsZS5jdXJyZW50VGltZSA8IDE1ID8gMCA6IG1lZGlhRmlsZS5jdXJyZW50VGltZSAtIDE1XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NMaW5lLnN0eWxlLndpZHRoID0gYCR7Y291bnRQbGF5ZWRQZXJjZW50cyhtZWRpYUZpbGUpfSVgXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURpdi50ZXh0Q29udGVudCA9IGZtdE1TUygobWVkaWFGaWxlLmR1cmF0aW9uIC0gbWVkaWFGaWxlLmN1cnJlbnRUaW1lKS50b0ZpeGVkKDApKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICBmb3J3YXJkICYmIGZvcndhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWxlLmN1cnJlbnRUaW1lID0gbWVkaWFGaWxlLmN1cnJlbnRUaW1lIDwgbWVkaWFGaWxlLmR1cmF0aW9uIC0gMTUgPyBtZWRpYUZpbGUuY3VycmVudFRpbWUgKyAxNSA6IG1lZGlhRmlsZS5kdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTGluZS5zdHlsZS53aWR0aCA9IGAke2NvdW50UGxheWVkUGVyY2VudHMobWVkaWFGaWxlKX0lYFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVEaXYudGV4dENvbnRlbnQgPSBmbXRNU1MoKG1lZGlhRmlsZS5kdXJhdGlvbiAtIG1lZGlhRmlsZS5jdXJyZW50VGltZSkudG9GaXhlZCgwKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgbWVkaWFGaWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclNob3coc3RvcEJ0biwgcGxheUJ0bilcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHBsYXlCdG4gJiYgc3RvcEJ0biAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jb2RlID09PSAnU3BhY2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWRpYUZpbGUucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUZpbGUucGxheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU2hvdyhwbGF5QnRuLCBzdG9wQnRuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWxlLnBhdXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTaG93KHN0b3BCdG4sIHBsYXlCdG4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDEwMDApXHJcblxyXG5cclxuICAgIH1cclxufSkiXX0=
