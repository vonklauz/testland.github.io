document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("animationsPolygon"),t=document.getElementById("hamburgerSection"),s=(document.getElementById("primarySlider"),document.querySelectorAll(".section"),document.querySelector(".primary")),i=document.querySelector(".news"),l=(e,t=2,s=15)=>new Swiper(e,{direction:"vertical",loop:!0,slidesPerView:t,spaceBetween:Number(s),scrollbar:{verticalClass:"d-none"},on:{afterInit:function(){let e=500;this.slides.forEach((t,s)=>{setTimeout(()=>{t.style.opacity="1"},e),e+=200})}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,navigation:{nextEl:e.slice(0,e.indexOf("-"))+"-next",prevEl:e.slice(0,e.indexOf("-"))+"-prev",lockClass:"d-none"}}),n=()=>{new Swiper("#mediaSlider",{slidesPerView:"auto",centeredSlides:!1,spaceBetween:0,loop:!0,centeredSlides:!1,initialSlide:0,on:{afterInit:function(){let e=500;this.slides.forEach((t,s)=>{setTimeout(()=>{t.style.opacity="1"},e),e+=200})}}})},o=e=>{new Swiper(".primary-swiper-desktop",{slidesPerView:"auto",spaceBetween:0,loop:!0,loopedSlides:4,centeredSlides:!0,initialSlide:Number(e),keyboard:{enabled:!0,onlyInViewport:!0},on:{activeIndexChange:function(){const{activeIndex:e}=this;this.slides.forEach((t,s)=>{s===e?(t.querySelector(".active-content").style.opacity="1",t.querySelector(".inactive-content").style.opacity="0"):(t.querySelector(".active-content").style.opacity="0",t.querySelector(".inactive-content").style.opacity="1")})}}})},r=e=>document.querySelector(e),a=e=>{const t=e.querySelector(`[data-position-${e.dataset.name}="outer"]`),s=e.querySelectorAll(`[data-position-${e.dataset.name}="inner"]`);switch(e.dataset.name){case"about":e.querySelector(".slide-1").classList.add("slide-1__scrolled"),e.querySelector(".slide-3").classList.add("slide-3__scrolled"),l(".hobby-slider"),l(".projects-slider"),n();break;case"hobby":s.forEach(e=>e.style.display="none"),e.querySelector(".slide-1").classList.add("slide-1__scrolled"),e.querySelector(".section-name").classList.add("section-name__scrolled"),e.querySelector(".slide-2").classList.add("slide-2__scrolled"),e.addEventListener("animationend",(function(){t.style.display="none",s.forEach(e=>e.style.display="block"),l(".hobby-slider"),l(".projects-slider"),n()}));break;case"projects":s.forEach(e=>e.style.display="none"),e.querySelector(".slide-2").classList.add("slide-2__scrolled"),e.querySelector(".section-name").classList.add("section-name__scrolled"),e.addEventListener("animationend",(function(){t.style.display="none",s.forEach(e=>e.style.display="block"),l(".projects-slider"),l(".hobby-slider"),n()}));break;case"media":e.querySelector(".slide-1").classList.add("slide-1__scrolled"),e.querySelector(".slide-2").classList.add("slide-2__scrolled"),e.querySelector(".slide-2").addEventListener("animationend",(function(){l(".projects-slider"),l(".hobby-slider"),n()}))}},c=e=>{const t=document.querySelector(".section-slider-desktop"),s=t.querySelector('[data-name="about"]'),i=t.querySelector('[data-name="hobby"]'),n=t.querySelector('[data-name="projects"]'),o=t.querySelector('[data-name="media"]');switch(l(".hobbydesktop-","auto"),l(".projectsdesktop-","auto"),l(".mediadesktop-","auto"),e.style.width="95%",e.dataset.name){case"about":e.querySelector(".section-desktop__content").style.left="0",s.style.left="2.5%",i.style.left="97.5%",n.style.right="-25%",o.style.right="-50%";break;case"hobby":e.querySelector(".section-desktop__content").style.left="87px",s.style.left="-30%",i.style.left="2.5%",n.style.right="-10%",o.style.right="-40%";break;case"projects":e.querySelector(".section-name").style.left="0",s.style.left="-50%",i.style.left="-20%",n.style.right="2.5%",o.style.right="-30%";break;case"media":s.style.left="-60%",i.style.left="-30%",n.style.right="97.5%",o.style.right="2.5%"}},d=e=>{e.preventDefault(),document.querySelector("main").classList.add("page-changing"),setTimeout(()=>window.location.href=e.target.href,700)},y=e=>{e.classList.add("active"),e.previousElementSibling.classList.add("active-divider")};let u=!1;const p=setInterval(()=>{t.querySelector(".active")&&r(".hamburger__section__finally_opened")&&(y(r(".active")),u=!0),u&&clearInterval(p)},100);e.insertAdjacentElement("afterbegin",t.cloneNode(!0)),e.querySelector("#hamburgerSection").id="";const S=e.querySelectorAll("a");if(S.forEach((e,t)=>{t!==S.length-1&&(e.style.width="auto",e.style.visibility="visible")}),document.querySelector(".desktop-links").querySelectorAll("a").forEach(e=>e.addEventListener("click",(function(e){d(e)}))),t.addEventListener("click",(function(e){t.classList.add("hamburger__section__opened"),t.addEventListener("animationend",()=>{t.classList.add("hamburger__section__finally_opened"),t.querySelectorAll("a").forEach((e,t)=>{t!==S.length-1&&(e.style.width=S[t].offsetWidth+"px",e.addEventListener("click",(function(e){d(e)})))})})})),s){const e=document.querySelector(".section-slider-desktop").querySelectorAll(".section-desktop"),t=document.getElementById("primarySwiperDesktop");e.forEach(e=>{e.addEventListener("click",(function(){o(e.dataset.order),c(e),e.addEventListener("transitionend",()=>{t.style.top="0",setTimeout(()=>t.classList.add("showed"),350)})}))});const s=document.querySelector(".inner-section-slider"),i=(new Swiper(".projects-slider",{direction:"vertical",loop:!1,slidesPerView:2,spaceBetween:15,scrollbar:{verticalClass:"d-none"},navigation:{nextEl:".projects-next",prevEl:".projects-prev",lockClass:"d-none"},on:{}}),e=>{new Swiper("#innerPrimarySlider",{slidesPerView:"auto",centeredSlides:!1,spaceBetween:0,loop:!0,loopedSlides:4,centeredSlides:!1,keyboard:{enabled:!0,onlyInViewport:!0},initialSlide:Number(e),on:{slideChange:function(e){console.log(e.slides[e.activeIndex].childNode)}}})});new Swiper("#primarySlider",{slidesPerView:"auto",centeredSlides:!1,spaceBetween:0,loop:!0,loopedSlides:4,initialSlide:0,on:{init:function(){this.slides.forEach((e,t)=>{e.style.zIndex=this.slides.length-t}),this.slides[this.activeIndex].style.zIndex=10},click:function(e,t){const l=t.path.find(e=>{if(e.classList)return Array.from(e.classList).includes("swiper-slide-active")});l&&(l.style.width="102%",l.style.boxShadow="none",e.disable(),l.addEventListener("transitionend",(function(){const e=l.querySelector(".section");let t;switch(e.dataset.name){case"about":t=e.querySelector(".slide-3"),t.querySelector(".inner-section-slider")||(e.querySelector(".slide-3").insertAdjacentElement("afterbegin",s.cloneNode(!0)),s.innerHTML="",i(e.dataset.inner),a(e));break;case"hobby":case"projects":case"media":t=e.querySelector(".slide-2"),t.querySelector(".inner-section-slider")||(e.querySelector(".slide-2").insertAdjacentElement("afterbegin",s.cloneNode(!0)),s.innerHTML="",i(e.dataset.inner),a(e))}})))}}});i()}if(r(".black-slider")&&new Swiper(".black-slider",{direction:"vertical",loop:!0,slidesPerView:2,spaceBetween:24,scrollbar:{verticalClass:"d-none"},on:{afterInit:function(){let e=600;this.slides.forEach((t,s)=>{setTimeout(()=>{t.style.opacity="1"},e),e+=200})}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,navigation:{nextEl:".black-slider-next",prevEl:".black-slider-prev",lockClass:"d-none"}}),i){u&&clearInterval(p);let e=200;i.querySelectorAll(".news-item").forEach(t=>{setTimeout(()=>t.style.opacity=1,e),e+=200})}r(".single-page")&&l(".single-slider","auto",30)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiaGFtYnVyZ2VyTWVudSIsImdldEVsZW1lbnRCeUlkIiwicHJpbWFyeVNsaWRlclNlY3Rpb24iLCJwcmltYXJ5U2VjdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJpbWFyeSIsInF1ZXJ5U2VsZWN0b3IiLCJpbml0VmVydGljYWxTbGlkZXIiLCJzbGlkZXNQZXJWaWV3IiwiJGVsIiwic3BhY2VCZXR3ZWVuIiwiU3dpcGVyIiwic2Nyb2xsYmFyIiwidmVydGljYWxDbGFzcyIsIk51bWJlciIsIm9uIiwiZGVsYXkiLCJzbGlkZXMiLCJmb3JFYWNoIiwic2V0VGltZW91dCIsInN0eWxlIiwib3BhY2l0eSIsInNsaWRlIiwibiIsIm9ubHlJblZpZXdwb3J0IiwiZW5hYmxlZCIsIm5hdmlnYXRpb24iLCJwcmV2RWwiLCJzbGljZSIsImxvY2tDbGFzcyIsImluZGV4T2YiLCJjZW50ZXJlZFNsaWRlcyIsImluaXRpYWxTbGlkZSIsImFmdGVySW5pdCIsImluaXRpYWxTbGlkZVBvc2lpdG9uIiwibG9vcGVkU2xpZGVzIiwia2V5Ym9hcmQiLCJhY3RpdmVJbmRleCIsImV4cGFuZFByaW1hcnlTZWN0aW9uIiwib3V0ZXJOYW1lIiwic2VjdGlvbiIsInNlbGVjdG9yIiwiZGF0YXNldCIsIm5hbWUiLCJhZGQiLCJjbGFzc0xpc3QiLCJpbml0TWVkaWFTbGlkZXIiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImlubmVyTmFtZSIsImRlc2t0b3BQcmltYXJ5V3JhcHBlciIsImV4cGFuZFByaW1hcnlTZWN0aW9uT25EZXNrdG9wIiwicHJvamVjdHMiLCJtZWRpYSIsIndpZHRoIiwibGVmdCIsImFib3V0IiwicmlnaHQiLCJob2JieSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInRhcmdldCIsImxpbmsiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibWVudUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ1dGlscyIsImlzTWFya2VkIiwiY2hlY2tJc0FjdGl2ZUxpbmsiLCJjbGVhckludGVydmFsIiwiY2xvbmVOb2RlIiwiYW5pbWF0aW9uc1BvbHlnb24iLCJpZCIsImhlYWRlckxpbmtzQ29weSIsImluc2VydEFkamFjZW50RWxlbWVudCIsImxlbmd0aCIsImEiLCJpIiwib2Zmc2V0V2lkdGgiLCJkZXNrdG9wUHJpbWFyeVNlY3Rpb25zIiwiZGVza3RvcFByaW1hcnlJbm5lclNsaWRlciIsImluaXREZXNrdG9wSW5uZXJTbGlkZXIiLCJvcmRlciIsInRvcCIsImRpcmVjdGlvbiIsIm5leHRFbCIsInNsaWRlQ2hhbmdlIiwiY29uc29sZSIsImxvZyIsInN3aXBlciIsImNoaWxkTm9kZSIsInpJbmRleCIsImxvb3AiLCJpbml0IiwidGhpcyIsImJveFNoYWRvdyIsIndyYXBwZXIiLCJlbCIsIkFycmF5IiwiZnJvbSIsImluY2x1ZGVzIiwiJGlubmVyU2xpZGVyRWwiLCJpbml0SW5uZXJTbGlkZXIiLCJpbm5lckhUTUwiLCJpbm5lciIsIm1vdXNld2hlZWwiLCJuZXdzIiwiaXRlbSJdLCJtYXBwaW5ncyI6IkFBUUlBLFNBQU1DLGlCQUFnQkQsb0JBQVNFLFdBQy9CLE1BQU1DLEVBQW9CSCxTQUFXRSxlQUFSLHFCQUN2QkUsRUFBa0JKLFNBQVNLLGVBQUFBLG9CQUMzQkMsR0FBbUJDLFNBQWNMLGVBQXZDLGlCQUNzQkssU0FBVEYsaUJBQWIsWUFEZ0JMLFNBQVNPLGNBQWMsYUFHakNDLEVBQUFBLFNBQWtCRCxjQUFTRSxTQUV6QkQsRUFBQSxDQUFBRSxFQUFBRCxFQUFBLEVBQUFFLEVBQUEsS0FDUyxJQUFFQyxPQUFBRixFQUZRLENBSW5CRCxVQUFlQSxXQUNmRSxNQUFZLEVBQ1pFLGNBQVdKLEVBQ1BLLGFBQWVDLE9BQUFKLEdBUEFFLFVBQUEsQ0FTZkMsY0FBQSxVQUVJRSxHQUFJQyxDQUNDQyxVQUFPQyxXQUNSQyxJQUFXSCxFQUFNLElBQ1BJLEtBQU5ILE9BQVlJ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QkFBQSxDQUVJNEUsVUFBWSxXQUNaUSxNQUFLOUUsRUFDREUsY0FBVyxFQUNQRyxhQUFZRCxHQUNmVCxVQUZELENBR0FJLGNBQUEsVUFFUEQsR0FBQSxDQWxCbUJrQixVQUFBLFdBb0JkLElBQUFqQixFQUFBLElBQ0dpRixLQURIaEYsT0FBQUMsUUFBQSxDQUFBSSxFQUFBQyxLQUVVSixXQUFBLEtBdEJJRyxFQUFBRixNQUFBQyxRQUFBLEtBQUFMLEdBeUJaQSxHQUFBLFFBQUFvQixTQUFBLENBekJoQlgsU0FBQSxFQStCSEQsZ0JBQUEsR0FFU29GLFlBQUEsRUFDRWxGLFdBQUk4QyxDQUNBZ0IsT0FBWixxQkFDS3BGLE9BQUwscUJBQ2N5QixVQUFXLFlBS3pCd0MsRUFBTTVELENBRU5GLEdBQUFBLGNBQW1CNEQsR0FDdEIsSUFBQW5ELEVBQUEsSUFuZkw2RixFQUFBekcsaUJBQUEsY0FBQWMsUUFBQTRGLElBMmVZM0YsV0FBVyxJQUFNMkYsRUFBSzFGLE1BQU1DLFFBQVUsRUFBR0wsR0FDekNBLEdBQVMsTUFJYnFELEVBQVUsaUJBRVY5RCxFQUFtQixpQkFBa0IsT0FBUSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vYWJvdXQgLTY2LjI1dndcclxuLy9ob2JieSAtOTMuNzV2d1xyXG4vL3Byb2plY3RzIC0xMTEuMjV2d1xyXG4vL21lZGlhIC0xMzMuNzV2d1xyXG5cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBhbmltYXRpb25zUG9seWdvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmltYXRpb25zUG9seWdvbicpXHJcbiAgICBjb25zdCBoYW1idXJnZXJNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hhbWJ1cmdlclNlY3Rpb24nKVxyXG4gICAgY29uc3QgcHJpbWFyeVNsaWRlclNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWFyeVNsaWRlcicpXHJcbiAgICBjb25zdCBwcmltYXJ5U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpXHJcbiAgICBjb25zdCBwcmltYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaW1hcnknKVxyXG4gICAgY29uc3QgbmV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzJylcclxuXHJcbiAgICBjb25zdCBpbml0VmVydGljYWxTbGlkZXIgPSAoJGVsLCBzbGlkZXNQZXJWaWV3ID0gMiwgc3BhY2VCZXR3ZWVuID0gMTUpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFN3aXBlcigkZWwsIHtcclxuICAgICAgICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IHNsaWRlc1BlclZpZXcsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogTnVtYmVyKHNwYWNlQmV0d2VlbiksXHJcbiAgICAgICAgICAgIHNjcm9sbGJhcjoge1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWxDbGFzczogJ2Qtbm9uZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb246IHtcclxuICAgICAgICAgICAgICAgIGFmdGVySW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWxheSA9IDUwMFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBkZWxheSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgKz0gMjAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAga2V5Ym9hcmQ6IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvbmx5SW5WaWV3cG9ydDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbW91c2V3aGVlbDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gTmF2aWdhdGlvbiBhcnJvd3NcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmV4dEVsOiBgJHskZWwuc2xpY2UoMCwgJGVsLmluZGV4T2YoJy0nKSl9LW5leHRgLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiBgJHskZWwuc2xpY2UoMCwgJGVsLmluZGV4T2YoJy0nKSl9LXByZXZgLFxyXG4gICAgICAgICAgICAgICAgbG9ja0NsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGluaXRNZWRpYVNsaWRlciA9ICgpID0+IHtcclxuICAgICAgICBuZXcgU3dpcGVyKCcjbWVkaWFTbGlkZXInLCB7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbml0aWFsU2xpZGU6IDAsXHJcbiAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSA1MDBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ICs9IDIwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpbml0RGVza3RvcElubmVyU2xpZGVyID0gKGluaXRpYWxTbGlkZVBvc2lpdG9uKSA9PiB7XHJcbiAgICAgICAgbmV3IFN3aXBlcignLnByaW1hcnktc3dpcGVyLWRlc2t0b3AnLCB7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGxvb3BlZFNsaWRlczogNCxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXHJcbiAgICAgICAgICAgIGluaXRpYWxTbGlkZTogTnVtYmVyKGluaXRpYWxTbGlkZVBvc2lpdG9uKSxcclxuICAgICAgICAgICAga2V5Ym9hcmQ6IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvbmx5SW5WaWV3cG9ydDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb246IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUluZGV4Q2hhbmdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbmRleFxyXG4gICAgICAgICAgICAgICAgICAgIH0gPSB0aGlzXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIG4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT09IGFjdGl2ZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLWNvbnRlbnQnKS5zdHlsZS5vcGFjaXR5ID0gJzEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuaW5hY3RpdmUtY29udGVudCcpLnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtY29udGVudCcpLnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5pbmFjdGl2ZS1jb250ZW50Jykuc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1dGlscyA9IHtcclxuICAgICAgICAkZWw6IChzZWxlY3RvcikgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXHJcbiAgICAgICAgZXhwYW5kUHJpbWFyeVNlY3Rpb246IChzZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dGVyTmFtZSA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvcihgW2RhdGEtcG9zaXRpb24tJHtzZWN0aW9uLmRhdGFzZXQubmFtZX09XCJvdXRlclwiXWApXHJcbiAgICAgICAgICAgIGNvbnN0IGlubmVyTmFtZSA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtcG9zaXRpb24tJHtzZWN0aW9uLmRhdGFzZXQubmFtZX09XCJpbm5lclwiXWApXHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2VjdGlvbi5kYXRhc2V0Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Fib3V0JzpcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0xJykuY2xhc3NMaXN0LmFkZCgnc2xpZGUtMV9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTMnKS5jbGFzc0xpc3QuYWRkKCdzbGlkZS0zX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcuaG9iYnktc2xpZGVyJylcclxuICAgICAgICAgICAgICAgICAgICBpbml0VmVydGljYWxTbGlkZXIoJy5wcm9qZWN0cy1zbGlkZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRNZWRpYVNsaWRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYW5zcGFyZW50LWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2hleScpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0zJykuY2xhc3NMaXN0LmFkZCgnc2xpZGUtM19fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdob2JieSc6XHJcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJOYW1lLmZvckVhY2gobmFtZSA9PiBuYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMScpLmNsYXNzTGlzdC5hZGQoJ3NsaWRlLTFfX3Njcm9sbGVkJylcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLW5hbWUnKS5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLW5hbWVfX3Njcm9sbGVkJylcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0yJykuY2xhc3NMaXN0LmFkZCgnc2xpZGUtMl9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRlck5hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lck5hbWUuZm9yRWFjaChuYW1lID0+IG5hbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jaycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRWZXJ0aWNhbFNsaWRlcignLmhvYmJ5LXNsaWRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRWZXJ0aWNhbFNsaWRlcignLnByb2plY3RzLXNsaWRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRNZWRpYVNsaWRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2plY3RzJzpcclxuICAgICAgICAgICAgICAgICAgICBpbm5lck5hbWUuZm9yRWFjaChuYW1lID0+IG5hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0yJykuY2xhc3NMaXN0LmFkZCgnc2xpZGUtMl9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tbmFtZScpLmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tbmFtZV9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRlck5hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lck5hbWUuZm9yRWFjaChuYW1lID0+IG5hbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jaycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRWZXJ0aWNhbFNsaWRlcignLnByb2plY3RzLXNsaWRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRWZXJ0aWNhbFNsaWRlcignLmhvYmJ5LXNsaWRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRNZWRpYVNsaWRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21lZGlhJzpcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0xJykuY2xhc3NMaXN0LmFkZCgnc2xpZGUtMV9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTInKS5jbGFzc0xpc3QuYWRkKCdzbGlkZS0yX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMicpLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcucHJvamVjdHMtc2xpZGVyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcuaG9iYnktc2xpZGVyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdE1lZGlhU2xpZGVyKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBleHBhbmRQcmltYXJ5U2VjdGlvbk9uRGVza3RvcDogKHNlY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVza3RvcFByaW1hcnlXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tc2xpZGVyLWRlc2t0b3AnKVxyXG4gICAgICAgICAgICBjb25zdCBhYm91dCA9IGRlc2t0b3BQcmltYXJ5V3JhcHBlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uYW1lPVwiYWJvdXRcIl0nKVxyXG4gICAgICAgICAgICBjb25zdCBob2JieSA9IGRlc2t0b3BQcmltYXJ5V3JhcHBlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uYW1lPVwiaG9iYnlcIl0nKVxyXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGRlc2t0b3BQcmltYXJ5V3JhcHBlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uYW1lPVwicHJvamVjdHNcIl0nKVxyXG4gICAgICAgICAgICBjb25zdCBtZWRpYSA9IGRlc2t0b3BQcmltYXJ5V3JhcHBlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uYW1lPVwibWVkaWFcIl0nKVxyXG4gICAgICAgICAgICBpbml0VmVydGljYWxTbGlkZXIoJy5ob2JieWRlc2t0b3AtJywgJ2F1dG8nKVxyXG4gICAgICAgICAgICBpbml0VmVydGljYWxTbGlkZXIoJy5wcm9qZWN0c2Rlc2t0b3AtJywgJ2F1dG8nKVxyXG4gICAgICAgICAgICBpbml0VmVydGljYWxTbGlkZXIoJy5tZWRpYWRlc2t0b3AtJywgJ2F1dG8nKVxyXG4gICAgICAgICAgICBzZWN0aW9uLnN0eWxlLndpZHRoID0gJzk1JSdcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2VjdGlvbi5kYXRhc2V0Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Fib3V0JzpcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWRlc2t0b3BfX2NvbnRlbnQnKS5zdHlsZS5sZWZ0ID0gJzAnXHJcbiAgICAgICAgICAgICAgICAgICAgYWJvdXQuc3R5bGUubGVmdCA9ICcyLjUlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGhvYmJ5LnN0eWxlLmxlZnQgPSAnOTcuNSUnXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHMuc3R5bGUucmlnaHQgPSAnLTI1JSdcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5zdHlsZS5yaWdodCA9ICctNTAlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaG9iYnknOlxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tZGVza3RvcF9fY29udGVudCcpLnN0eWxlLmxlZnQgPSAnODdweCdcclxuICAgICAgICAgICAgICAgICAgICBhYm91dC5zdHlsZS5sZWZ0ID0gJy0zMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgaG9iYnkuc3R5bGUubGVmdCA9ICcyLjUlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzLnN0eWxlLnJpZ2h0ID0gJy0xMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuc3R5bGUucmlnaHQgPSAnLTQwJSdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2plY3RzJzpcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLW5hbWUnKS5zdHlsZS5sZWZ0ID0gJzAnXHJcbiAgICAgICAgICAgICAgICAgICAgYWJvdXQuc3R5bGUubGVmdCA9ICctNTAlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGhvYmJ5LnN0eWxlLmxlZnQgPSAnLTIwJSdcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0cy5zdHlsZS5yaWdodCA9ICcyLjUlJ1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLnN0eWxlLnJpZ2h0ID0gJy0zMCUnXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVkaWEnOlxyXG4gICAgICAgICAgICAgICAgICAgIGFib3V0LnN0eWxlLmxlZnQgPSAnLTYwJSdcclxuICAgICAgICAgICAgICAgICAgICBob2JieS5zdHlsZS5sZWZ0ID0gJy0zMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHMuc3R5bGUucmlnaHQgPSAnOTcuNSUnXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuc3R5bGUucmlnaHQgPSAnMi41JSdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlUGFnZTogKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5jbGFzc0xpc3QuYWRkKCdwYWdlLWNoYW5naW5nJylcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGUudGFyZ2V0LmhyZWYsIDcwMClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoZWNrSXNBY3RpdmVMaW5rOiAobGluaykgPT4ge1xyXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIGxpbmsucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZGl2aWRlcicpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBpc01hcmtlZCA9IGZhbHNlO1xyXG4gICAgY29uc3QgbWVudUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGlmIChoYW1idXJnZXJNZW51LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKSAmJiB1dGlscy4kZWwoJy5oYW1idXJnZXJfX3NlY3Rpb25fX2ZpbmFsbHlfb3BlbmVkJykpIHtcclxuICAgICAgICAgICAgdXRpbHMuY2hlY2tJc0FjdGl2ZUxpbmsodXRpbHMuJGVsKCcuYWN0aXZlJykpXHJcbiAgICAgICAgICAgIGlzTWFya2VkID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpc01hcmtlZCAmJiBjbGVhckludGVydmFsKG1lbnVJbnRlcnZhbClcclxuICAgIH0sIDEwMClcclxuXHJcbiAgICAvLyDQmtC70L7QvdC40YDRg9C10Lwg0YjQsNC/0LrRgywg0YfRgtC+0LHRiyDQstGL0YfQuNGB0LvQuNGC0Ywg0LTQu9C40L3RgyDQv9GD0L3QutGC0L7QsiDQvNC10L3RjiDQtNC70Y8g0LjRhSDQv9C70LDQstC90L7QuSDQsNC90LjQvNCw0YbQuNC4XHJcbiAgICBhbmltYXRpb25zUG9seWdvbi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCBoYW1idXJnZXJNZW51LmNsb25lTm9kZSh0cnVlKSlcclxuICAgIGFuaW1hdGlvbnNQb2x5Z29uLnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXJTZWN0aW9uJykuaWQgPSAnJ1xyXG4gICAgY29uc3QgaGVhZGVyTGlua3NDb3B5ID0gYW5pbWF0aW9uc1BvbHlnb24ucXVlcnlTZWxlY3RvckFsbCgnYScpXHJcbiAgICBoZWFkZXJMaW5rc0NvcHkuZm9yRWFjaCgoYSwgaSkgPT4ge1xyXG4gICAgICAgIGlmIChpICE9PSBoZWFkZXJMaW5rc0NvcHkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBhLnN0eWxlLndpZHRoID0gJ2F1dG8nXHJcbiAgICAgICAgICAgIGEuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlc2t0b3AtbGlua3MnKS5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChhID0+IGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHV0aWxzLmNoYW5nZVBhZ2UoZSlcclxuICAgIH0pKVxyXG5cclxuICAgIGhhbWJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGhhbWJ1cmdlck1lbnUuY2xhc3NMaXN0LmFkZCgnaGFtYnVyZ2VyX19zZWN0aW9uX19vcGVuZWQnKVxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBoYW1idXJnZXJNZW51LmNsYXNzTGlzdC5hZGQoJ2hhbWJ1cmdlcl9fc2VjdGlvbl9fZmluYWxseV9vcGVuZWQnKVxyXG4gICAgICAgICAgICBoYW1idXJnZXJNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKS5mb3JFYWNoKChhLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaGVhZGVyTGlua3NDb3B5Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnN0eWxlLndpZHRoID0gaGVhZGVyTGlua3NDb3B5W2ldLm9mZnNldFdpZHRoICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5jaGFuZ2VQYWdlKGUpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAocHJpbWFyeSkge1xyXG5cclxuICAgICAgICBjb25zdCBkZXNrdG9wUHJpbWFyeVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1zbGlkZXItZGVza3RvcCcpXHJcbiAgICAgICAgY29uc3QgZGVza3RvcFByaW1hcnlTZWN0aW9ucyA9IGRlc2t0b3BQcmltYXJ5V3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1kZXNrdG9wJylcclxuICAgICAgICBjb25zdCBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW1hcnlTd2lwZXJEZXNrdG9wJylcclxuICAgICAgICBkZXNrdG9wUHJpbWFyeVNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0RGVza3RvcElubmVyU2xpZGVyKHNlY3Rpb24uZGF0YXNldC5vcmRlcilcclxuICAgICAgICAgICAgICAgIHV0aWxzLmV4cGFuZFByaW1hcnlTZWN0aW9uT25EZXNrdG9wKHNlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVza3RvcFByaW1hcnlJbm5lclNsaWRlci5zdHlsZS50b3AgPSAnMCdcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGRlc2t0b3BQcmltYXJ5SW5uZXJTbGlkZXIuY2xhc3NMaXN0LmFkZCgnc2hvd2VkJyksIDM1MClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggKHNlY3Rpb24uZGF0YXNldC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2FzZSAnYWJvdXQnOlxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBkZXNrdG9wUHJpbWFyeVdyYXBwZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgLjI1cydcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VjdGlvbi5zdHlsZS50cmFuc2l0aW9uID0gJ2FsbCAuMjVzJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWRlc2t0b3BfX2NvbnRlbnQnKS5zdHlsZS5sZWZ0ID0gJzAnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy02Ni4yNXZ3JztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VjdGlvbi5zdHlsZS53aWR0aCA9ICcxMDB2dydcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGVza3RvcFByaW1hcnlXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyLnN0eWxlLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3Nob3dlZCcpLCAzNTApXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vICAgICBjYXNlICdob2JieSc6XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gJ2FsbCAuMTVzJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzZWN0aW9uLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIC4zNXMnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tZGVza3RvcF9fY29udGVudCcpLnN0eWxlLmxlZnQgPSAnMCdcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1kZXNrdG9wX19jb250ZW50Jykuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy05My43NXZ3JztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VjdGlvbi5zdHlsZS53aWR0aCA9ICcxMDB2dydcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gZGVza3RvcFByaW1hcnlXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vICAgICBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyLnN0eWxlLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3Nob3dlZCcpLCAzNTApXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyB9KVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vICAgICBjYXNlICdwcm9qZWN0cyc6XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gJ2FsbCAuMTVzJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzZWN0aW9uLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIC4zNXMnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tbmFtZScpLnN0eWxlLmxlZnQgPSAnMCdcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGVza3RvcFByaW1hcnlXcmFwcGVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTExMS4yNXZ3JztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VjdGlvbi5zdHlsZS53aWR0aCA9ICcxMDB2dydcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGVza3RvcFByaW1hcnlXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyLnN0eWxlLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3Nob3dlZCcpLCAzNTApXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vICAgICBjYXNlICdtZWRpYSc6XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gJ2FsbCAuMjVzJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzZWN0aW9uLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIC4yNXMnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0xMzMuNzV2dyc7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNlY3Rpb24uc3R5bGUud2lkdGggPSAnMTAwdncnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRlc2t0b3BQcmltYXJ5V3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZGVza3RvcFByaW1hcnlJbm5lclNsaWRlci5zdHlsZS50b3AgPSAnMCdcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZGVza3RvcFByaW1hcnlJbm5lclNsaWRlci5jbGFzc0xpc3QuYWRkKCdzaG93ZWQnKSwgMzUwKVxyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgJGlubmVyU2xpZGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5uZXItc2VjdGlvbi1zbGlkZXInKVxyXG5cclxuICAgICAgICBjb25zdCBwcm9qZWN0c1NsaWRlciA9IG5ldyBTd2lwZXIoJy5wcm9qZWN0cy1zbGlkZXInLCB7XHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNSxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyOiB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbENsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLy8gTmF2aWdhdGlvbiBhcnJvd3NcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLnByb2plY3RzLW5leHQnLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLnByb2plY3RzLXByZXYnLFxyXG4gICAgICAgICAgICAgICAgbG9ja0NsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgb246IHtcclxuICAgICAgICAgICAgICAgIC8vIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSBuID4gMSAmJiBuIDwgMyA/ICcuNScgOiBuID4gMiAmJiBuIDwgNCA/ICcuMjUnIDogJzEnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAvLyBhY3RpdmVJbmRleENoYW5nZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgYWN0aXZlSW5kZXhcclxuICAgICAgICAgICAgICAgIC8vICAgICB9ID0gdGhpc1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChuIDw9IGFjdGl2ZUluZGV4IHx8IG4gPT09IGFjdGl2ZUluZGV4ICsgMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2xpZGUuc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9IGVsc2UgaWYgKG4gPT09IGFjdGl2ZUluZGV4ICsgMikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2xpZGUuc3R5bGUub3BhY2l0eSA9ICcuNSdcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChuID4gYWN0aXZlSW5kZXggKyAyICYmIG4gPCBhY3RpdmVJbmRleCArIDQpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSAnLjI1J1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2xpZGUuc3R5bGUub3BhY2l0eSA9ICcwJ1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAvLyByZWFjaEVuZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2xpZGVzLmZvckVhY2goc2xpZGUgPT4gc2xpZGUuc3R5bGUub3BhY2l0eSA9ICcxJylcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IGluaXRJbm5lclNsaWRlciA9IChpbml0aWFsU2xpZGVQb3NpaXRvbikgPT4ge1xyXG4gICAgICAgICAgICBuZXcgU3dpcGVyKCcjaW5uZXJQcmltYXJ5U2xpZGVyJywge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbG9vcGVkU2xpZGVzOiA0LFxyXG4gICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAga2V5Ym9hcmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9ubHlJblZpZXdwb3J0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGluaXRpYWxTbGlkZTogTnVtYmVyKGluaXRpYWxTbGlkZVBvc2lpdG9uKSxcclxuICAgICAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIChzd2lwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdLmNoaWxkTm9kZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdLmNoaWxkTm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByaW1hcnlTbGlkZXIgPSBuZXcgU3dpcGVyKFwiI3ByaW1hcnlTbGlkZXJcIiwge1xyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGxvb3BlZFNsaWRlczogNCxcclxuICAgICAgICAgICAgLy8ga2V5Ym9hcmQ6IHtcclxuICAgICAgICAgICAgLy8gICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIC8vICAgICBvbmx5SW5WaWV3cG9ydDogZmFsc2UsXHJcbiAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgIGluaXRpYWxTbGlkZTogMCxcclxuICAgICAgICAgICAgb246IHtcclxuICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS56SW5kZXggPSB0aGlzLnNsaWRlcy5sZW5ndGggLSBuXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XS5zdHlsZS56SW5kZXggPSAxMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoc3dpcGVyLCBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2xpZGUgPSBlLnBhdGguZmluZChlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKGVsLmNsYXNzTGlzdCkuaW5jbHVkZXMoJ3N3aXBlci1zbGlkZS1hY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuc3R5bGUud2lkdGggPSAnMTAyJSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci5kaXNhYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd3JhcHBlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VjdGlvbi5kYXRhc2V0Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhYm91dCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0zJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5pbm5lci1zZWN0aW9uLXNsaWRlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0zJykuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZnRlcmJlZ2luJywgJGlubmVyU2xpZGVyRWwuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlubmVyU2xpZGVyRWwuaW5uZXJIVE1MID0gJydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRJbm5lclNsaWRlcihzZWN0aW9uLmRhdGFzZXQuaW5uZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5leHBhbmRQcmltYXJ5U2VjdGlvbihzZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hvYmJ5JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwcm9qZWN0cyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWVkaWEnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyID0gc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuaW5uZXItc2VjdGlvbi1zbGlkZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMicpLmluc2VydEFkamFjZW50RWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWZ0ZXJiZWdpbicsICRpbm5lclNsaWRlckVsLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lclNsaWRlckVsLmlubmVySFRNTCA9ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0SW5uZXJTbGlkZXIoc2VjdGlvbi5kYXRhc2V0LmlubmVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZXhwYW5kUHJpbWFyeVNlY3Rpb24oc2VjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gYWN0aXZlSW5kZXhDaGFuZ2U6IGZ1bmN0aW9uIChzd2lwZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzbGlkZS5zdHlsZS53aWR0aCA9ICcyNSUnXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XS5zdHlsZS53aWR0aCA9ICc0MCUnXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgLy8gICBlbDogXCIuc3dpcGVyLXBhZ2luYXRpb25cIixcclxuICAgICAgICAgICAgLy8gICBjbGlja2FibGU6IHRydWVcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaW5pdElubmVyU2xpZGVyKClcclxuICAgIH1cclxuXHJcbiAgICBpZiAodXRpbHMuJGVsKCcuYmxhY2stc2xpZGVyJykpIHtcclxuICAgICAgICBuZXcgU3dpcGVyKCcuYmxhY2stc2xpZGVyJywge1xyXG4gICAgICAgICAgICAvLyBPcHRpb25hbCBwYXJhbWV0ZXJzXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyNCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyOiB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbENsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbjoge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJJbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gNjAwXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIG4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS5vcGFjaXR5ID0gJzEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheSArPSAyMDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZXlib2FyZDoge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9ubHlJblZpZXdwb3J0OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3VzZXdoZWVsOiB0cnVlLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBuZXh0RWw6IGAuYmxhY2stc2xpZGVyLW5leHRgLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiBgLmJsYWNrLXNsaWRlci1wcmV2YCxcclxuICAgICAgICAgICAgICAgIGxvY2tDbGFzczogJ2Qtbm9uZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdzKSB7XHJcbiAgICAgICAgaXNNYXJrZWQgJiYgY2xlYXJJbnRlcnZhbChtZW51SW50ZXJ2YWwpXHJcbiAgICAgICAgbGV0IGRlbGF5ID0gMjAwXHJcbiAgICAgICAgbmV3cy5xdWVyeVNlbGVjdG9yQWxsKCcubmV3cy1pdGVtJykuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBpdGVtLnN0eWxlLm9wYWNpdHkgPSAxLCBkZWxheSlcclxuICAgICAgICAgICAgZGVsYXkgKz0gMjAwXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodXRpbHMuJGVsKCcuc2luZ2xlLXBhZ2UnKSkge1xyXG5cclxuICAgICAgICBpbml0VmVydGljYWxTbGlkZXIoJy5zaW5nbGUtc2xpZGVyJywgJ2F1dG8nLCAzMClcclxuICAgIH1cclxufSkiXX0=
