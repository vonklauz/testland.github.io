document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("animationsPolygon"),t=document.getElementById("hamburgerSection"),i=(document.getElementById("primarySlider"),document.querySelectorAll(".section"),document.querySelector(".primary")),l=document.querySelector(".news"),s=(e,t=2,i=15)=>new Swiper(e,{direction:"vertical",loop:!0,slidesPerView:t,spaceBetween:Number(i),scrollbar:{verticalClass:"d-none"},on:{afterInit:function(){let e=500;this.slides.forEach((t,i)=>{setTimeout(()=>{t.style.opacity="1"},e),e+=200})}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,navigation:{nextEl:e.slice(0,e.indexOf("-"))+"-next",prevEl:e.slice(0,e.indexOf("-"))+"-prev",lockClass:"d-none"}}),n=()=>{new Swiper("#mediaSlider",{slidesPerView:"auto",centeredSlides:!1,spaceBetween:0,loop:!0,centeredSlides:!1,initialSlide:0,on:{afterInit:function(){let e=500;this.slides.forEach((t,i)=>{setTimeout(()=>{t.style.opacity="1"},e),e+=200})}}})},o=e=>{new Swiper(".primary-swiper-desktop",{slidesPerView:"auto",spaceBetween:0,loop:!0,loopedSlides:4,centeredSlides:!0,initialSlide:Number(e),keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){const{activeIndex:e}=this;this.slides.forEach((t,i)=>{i===e?(t.querySelector(".active-content").style.opacity="1",t.querySelector(".inactive-content").style.opacity="0"):(t.querySelector(".active-content").style.opacity="0",t.querySelector(".inactive-content").style.opacity="1")})}}})},r=e=>new Swiper(e,{direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:".swiper-scrollbar"},navigation:{nextEl:".vertical-text-next",prevEl:".vertical-text-prev ",lockClass:"d-none"},mousewheel:!0}),a=e=>document.querySelector(e),c=e=>{const t=e.querySelector(`[data-position-${e.dataset.name}="outer"]`),i=e.querySelectorAll(`[data-position-${e.dataset.name}="inner"]`);switch(r("#mobileVerticalTextSlider"),s(".projects-slider"),s(".hobby-slider"),n(),e.dataset.name){case"about":e.querySelector(".slide-1").classList.add("slide-1__scrolled"),e.querySelector(".slide-3").classList.add("slide-3__scrolled");break;case"hobby":i.forEach(e=>e.style.display="none"),e.querySelector(".slide-1").classList.add("slide-1__scrolled"),e.querySelector(".section-name").classList.add("section-name__scrolled"),e.querySelector(".slide-2").classList.add("slide-2__scrolled"),e.addEventListener("animationend",(function(){t.style.display="none",i.forEach(e=>e.style.display="block")}));break;case"projects":i.forEach(e=>e.style.display="none"),e.querySelector(".slide-2").classList.add("slide-2__scrolled"),e.querySelector(".section-name").classList.add("section-name__scrolled"),e.addEventListener("animationend",(function(){t.style.display="none",i.forEach(e=>e.style.display="block")}));break;case"media":e.querySelector(".slide-1").classList.add("slide-1__scrolled"),e.querySelector(".slide-2").classList.add("slide-2__scrolled"),e.querySelector(".slide-2").addEventListener("animationend",(function(){}))}},d=e=>{const t=document.querySelector(".section-slider-desktop"),i=t.querySelector('[data-name="about"]'),l=t.querySelector('[data-name="hobby"]'),n=t.querySelector('[data-name="projects"]'),o=t.querySelector('[data-name="media"]');switch(r("#desktopVerticalTextSlider"),s(".hobbydesktop-","auto"),s(".projectsdesktop-","auto"),s(".mediadesktop-","auto"),e.style.width="95%",e.dataset.name){case"about":e.querySelector(".section-desktop__content").style.right="calc(100% - 412px)",i.style.left="2.5%",l.style.left="97.5%",n.style.right="-25%",o.style.right="-50%";break;case"hobby":e.querySelector(".section-desktop__content").style.left="0px",i.style.left="-30%",l.style.left="2.5%",n.style.right="-10%",o.style.right="-40%";break;case"projects":e.querySelector(".section-name").style.left="0",i.style.left="-50%",l.style.left="-20%",n.style.right="2.5%",o.style.right="-30%";break;case"media":i.style.left="-60%",l.style.left="-30%",n.style.right="97.5%",o.style.right="2.5%"}},y=e=>{e.preventDefault(),document.querySelector("main").classList.add("page-changing"),setTimeout(()=>window.location.href=e.target.href,700)},u=e=>{e.classList.add("active"),e.previousElementSibling.classList.add("active-divider")};let p=!1;const S=setInterval(()=>{t.querySelector(".active")&&a(".hamburger__section__finally_opened")&&(u(a(".active")),p=!0),p&&clearInterval(S)},100);e.insertAdjacentElement("afterbegin",t.cloneNode(!0)),e.querySelector("#hamburgerSection").id="";const m=e.querySelectorAll("a");if(m.forEach((e,t)=>{t!==m.length-1&&(e.style.width="auto",e.style.visibility="visible")}),document.querySelector(".desktop-links").querySelectorAll("a").forEach(e=>e.addEventListener("click",(function(e){y(e)}))),t.addEventListener("click",(function(e){t.classList.add("hamburger__section__opened"),t.addEventListener("animationend",()=>{t.classList.add("hamburger__section__finally_opened"),t.querySelectorAll("a").forEach((e,t)=>{t!==m.length-1&&(e.style.width=m[t].offsetWidth+"px",e.addEventListener("click",(function(e){y(e)})))})})})),i){const e=document.querySelector(".section-slider-desktop").querySelectorAll(".section-desktop"),t=document.getElementById("primarySwiperDesktop");e.forEach(e=>{e.addEventListener("click",(function(){o(e.dataset.order),d(e),e.addEventListener("transitionend",()=>{t.style.top="0",setTimeout(()=>t.classList.add("showed"),350)})}))});const i=document.querySelector(".inner-section-slider"),l=(new Swiper(".projects-slider",{direction:"vertical",loop:!1,slidesPerView:2,spaceBetween:15,scrollbar:{verticalClass:"d-none"},navigation:{nextEl:".projects-next",prevEl:".projects-prev",lockClass:"d-none"}}),e=>{new Swiper("#innerPrimarySlider",{slidesPerView:"auto",centeredSlides:!1,spaceBetween:0,loop:!0,loopedSlides:4,centeredSlides:!1,keyboard:{enabled:!0,onlyInViewport:!0},initialSlide:Number(e),on:{transitionEnd:function(e){console.log(e.slides[e.activeIndex].childNode)}}})});new Swiper("#primarySlider",{slidesPerView:"auto",centeredSlides:!1,spaceBetween:0,loop:!0,loopedSlides:4,initialSlide:0,on:{init:function(){this.slides.forEach((e,t)=>{e.style.zIndex=this.slides.length-t}),this.slides[this.activeIndex].style.zIndex=10},click:function(e,t){const s=t.path.find(e=>{if(e.classList)return Array.from(e.classList).includes("swiper-slide-active")});s&&(s.style.width="102%",s.style.boxShadow="none",e.disable(),s.addEventListener("transitionend",(function(){const e=s.querySelector(".section");let t;switch(e.dataset.name){case"about":t=e.querySelector(".slide-3"),t.querySelector(".inner-section-slider")||(e.querySelector(".slide-3").insertAdjacentElement("afterbegin",i.cloneNode(!0)),i.innerHTML="",l(e.dataset.inner),c(e));break;case"hobby":case"projects":case"media":t=e.querySelector(".slide-2"),t.querySelector(".inner-section-slider")||(e.querySelector(".slide-2").insertAdjacentElement("afterbegin",i.cloneNode(!0)),i.innerHTML="",l(e.dataset.inner),c(e))}})))}}})}if(a(".black-slider")&&new Swiper(".black-slider",{direction:"vertical",loop:!0,slidesPerView:2,spaceBetween:24,scrollbar:{verticalClass:"d-none"},on:{afterInit:function(){let e=600;this.slides.forEach((t,i)=>{setTimeout(()=>{t.style.opacity="1"},e),e+=200})}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,navigation:{nextEl:".black-slider-next",prevEl:".black-slider-prev",lockClass:"d-none"}}),l){p&&clearInterval(S);let e=200;l.querySelectorAll(".news-item").forEach(t=>{setTimeout(()=>t.style.opacity=1,e),e+=200}),new Swiper(".horizontal-desktop-slider",{direction:"vertical",slidesPerView:"auto",spaceBetween:10,loop:!1,breakpoints:{996:{slidesPerView:3,direction:"horizontal",spaceBetween:36}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",lockClass:"d-none"}})}a(".single-page")&&s(".single-slider","auto",30)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiaGFtYnVyZ2VyTWVudSIsImdldEVsZW1lbnRCeUlkIiwicHJpbWFyeVNsaWRlclNlY3Rpb24iLCJwcmltYXJ5U2VjdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJpbWFyeSIsInF1ZXJ5U2VsZWN0b3IiLCJpbml0VmVydGljYWxTbGlkZXIiLCJzbGlkZXNQZXJWaWV3IiwiJGVsIiwic3BhY2VCZXR3ZWVuIiwiU3dpcGVyIiwic2Nyb2xsYmFyIiwidmVydGljYWxDbGFzcyIsIk51bWJlciIsIm9uIiwiZGVsYXkiLCJzbGlkZXMiLCJmb3JFYWNoIiwic2V0VGltZW91dCIsInN0eWxlIiwib3BhY2l0eSIsInNsaWRlIiwibiIsIm9ubHlJblZpZXdwb3J0IiwiZW5hYmxlZCIsIm5hdmlnYXRpb24iLCJwcmV2RWwiLCJzbGljZSIsImxvY2tDbGFzcyIsImluZGV4T2YiLCJjZW50ZXJlZFNsaWRlcyIsImluaXRpYWxTbGlkZSIsImFmdGVySW5pdCIsImluaXRpYWxTbGlkZVBvc2lpdG9uIiwibG9vcGVkU2xpZGVzIiwia2V5Ym9hcmQiLCJhY3RpdmVJbmRleCIsImZyZWVNb2RlIiwiZWwiLCJuZXh0RWwiLCJ1dGlscyIsImluaXRWZXJ0aWNhbFRleHRTbGlkZXIiLCJzZWxlY3RvciIsInNlY3Rpb24iLCJkYXRhc2V0IiwibmFtZSIsImluaXRNZWRpYVNsaWRlciIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvdXRlck5hbWUiLCJkaXNwbGF5IiwiaW5uZXJOYW1lIiwiYWJvdXQiLCJkZXNrdG9wUHJpbWFyeVdyYXBwZXIiLCJwcm9qZWN0cyIsIndpZHRoIiwicmlnaHQiLCJsZWZ0IiwibWVkaWEiLCJlIiwiY2hhbmdlUGFnZSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJ0YXJnZXQiLCJocmVmIiwibGluayIsImNoZWNrSXNBY3RpdmVMaW5rIiwiaXNNYXJrZWQiLCJtZW51SW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJhbmltYXRpb25zUG9seWdvbiIsImluc2VydEFkamFjZW50RWxlbWVudCIsImNsb25lTm9kZSIsImlkIiwiaGVhZGVyTGlua3NDb3B5IiwiYSIsImkiLCJsZW5ndGgiLCJ2aXNpYmlsaXR5Iiwib2Zmc2V0V2lkdGgiLCJkZXNrdG9wUHJpbWFyeVNlY3Rpb25zIiwiaW5pdERlc2t0b3BJbm5lclNsaWRlciIsIm9yZGVyIiwiZXhwYW5kUHJpbWFyeVNlY3Rpb25PbkRlc2t0b3AiLCJkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyIiwidG9wIiwibG9vcCIsIiRpbm5lclNsaWRlckVsIiwiaW5pdElubmVyU2xpZGVyIiwidHJhbnNpdGlvbkVuZCIsImxvZyIsInN3aXBlciIsImNvbnNvbGUiLCJjaGlsZE5vZGUiLCJjbGljayIsIkFycmF5IiwiZnJvbSIsInRoaXMiLCJpbmNsdWRlcyIsInpJbmRleCIsInBhdGgiLCJmaW5kIiwiYm94U2hhZG93Iiwid3JhcHBlciIsImRpc2FibGUiLCJpbm5lckhUTUwiLCJpbm5lciIsImV4cGFuZFByaW1hcnlTZWN0aW9uIiwiZGlyZWN0aW9uIiwibW91c2V3aGVlbCIsIm5ld3MiLCJpdGVtIiwiOTk2Il0sIm1hcHBpbmdzIjoiQUFRSUEsU0FBTUMsaUJBQWdCRCxvQkFBU0UsV0FDL0IsTUFBTUMsRUFBb0JILFNBQVdFLGVBQVIscUJBQ3ZCRSxFQUFrQkosU0FBU0ssZUFBQUEsb0JBQzNCQyxHQUFtQkMsU0FBY0wsZUFBdkMsaUJBQ3NCSyxTQUFURixpQkFBYixZQURnQkwsU0FBU08sY0FBYyxhQUdqQ0MsRUFBQUEsU0FBa0JELGNBQVNFLFNBRXpCRCxFQUFBLENBQUFFLEVBQUFELEVBQUEsRUFBQUUsRUFBQSxLQUNTLElBQUVDLE9BQUFGLEVBRlEsQ0FJbkJELFVBQWVBLFdBQ2ZFLE1BQVksRUFDWkUsY0FBV0osRUFDUEssYUFBZUMsT0FBQUosR0FQQUUsVUFBQSxDQVNmQyxj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WyIvL2Fib3V0IC02Ni4yNXZ3XHJcbi8vaG9iYnkgLTkzLjc1dndcclxuLy9wcm9qZWN0cyAtMTExLjI1dndcclxuLy9tZWRpYSAtMTMzLjc1dndcclxuXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgYW5pbWF0aW9uc1BvbHlnb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5pbWF0aW9uc1BvbHlnb24nKVxyXG4gICAgY29uc3QgaGFtYnVyZ2VyTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYW1idXJnZXJTZWN0aW9uJylcclxuICAgIGNvbnN0IHByaW1hcnlTbGlkZXJTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW1hcnlTbGlkZXInKVxyXG4gICAgY29uc3QgcHJpbWFyeVNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKVxyXG4gICAgY29uc3QgcHJpbWFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmltYXJ5JylcclxuICAgIGNvbnN0IG5ld3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3cycpXHJcblxyXG4gICAgY29uc3QgaW5pdFZlcnRpY2FsU2xpZGVyID0gKCRlbCwgc2xpZGVzUGVyVmlldyA9IDIsIHNwYWNlQmV0d2VlbiA9IDE1KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTd2lwZXIoJGVsLCB7XHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBzbGlkZXNQZXJWaWV3LFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IE51bWJlcihzcGFjZUJldHdlZW4pLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXI6IHtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsQ2xhc3M6ICdkLW5vbmUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSA1MDBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ICs9IDIwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGtleWJvYXJkOiB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb25seUluVmlld3BvcnQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1vdXNld2hlZWw6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIE5hdmlnYXRpb24gYXJyb3dzXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG5leHRFbDogYCR7JGVsLnNsaWNlKDAsICRlbC5pbmRleE9mKCctJykpfS1uZXh0YCxcclxuICAgICAgICAgICAgICAgIHByZXZFbDogYCR7JGVsLnNsaWNlKDAsICRlbC5pbmRleE9mKCctJykpfS1wcmV2YCxcclxuICAgICAgICAgICAgICAgIGxvY2tDbGFzczogJ2Qtbm9uZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpbml0TWVkaWFTbGlkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgbmV3IFN3aXBlcignI21lZGlhU2xpZGVyJywge1xyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgaW5pdGlhbFNsaWRlOiAwLFxyXG4gICAgICAgICAgICBvbjoge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJJbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIG4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS5vcGFjaXR5ID0gJzEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheSArPSAyMDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5pdERlc2t0b3BJbm5lclNsaWRlciA9IChpbml0aWFsU2xpZGVQb3NpaXRvbikgPT4ge1xyXG4gICAgICAgIG5ldyBTd2lwZXIoJy5wcmltYXJ5LXN3aXBlci1kZXNrdG9wJywge1xyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBsb29wZWRTbGlkZXM6IDQsXHJcbiAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG4gICAgICAgICAgICBpbml0aWFsU2xpZGU6IE51bWJlcihpbml0aWFsU2xpZGVQb3NpaXRvbiksXHJcbiAgICAgICAgICAgIGtleWJvYXJkOiB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb25seUluVmlld3BvcnQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5kZXhcclxuICAgICAgICAgICAgICAgICAgICB9ID0gdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID09PSBhY3RpdmVJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1jb250ZW50Jykuc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUucXVlcnlTZWxlY3RvcignLmluYWN0aXZlLWNvbnRlbnQnKS5zdHlsZS5vcGFjaXR5ID0gJzAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLWNvbnRlbnQnKS5zdHlsZS5vcGFjaXR5ID0gJzAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuaW5hY3RpdmUtY29udGVudCcpLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5pdFZlcnRpY2FsVGV4dFNsaWRlciA9ICgkZWwpID0+IChcclxuICAgICAgICBuZXcgU3dpcGVyKCRlbCwge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwidmVydGljYWxcIixcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgIGZyZWVNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXI6IHtcclxuICAgICAgICAgICAgICAgIGVsOiBcIi5zd2lwZXItc2Nyb2xsYmFyXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG5leHRFbDogYC52ZXJ0aWNhbC10ZXh0LW5leHRgLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiBgLnZlcnRpY2FsLXRleHQtcHJldiBgLFxyXG4gICAgICAgICAgICAgICAgbG9ja0NsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3VzZXdoZWVsOiB0cnVlLFxyXG4gICAgICAgIH0pXHJcbiAgICApXHJcblxyXG4gICAgY29uc3QgdXRpbHMgPSB7XHJcbiAgICAgICAgJGVsOiAoc2VsZWN0b3IpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxyXG4gICAgICAgIGV4cGFuZFByaW1hcnlTZWN0aW9uOiAoc2VjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvdXRlck5hbWUgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBvc2l0aW9uLSR7c2VjdGlvbi5kYXRhc2V0Lm5hbWV9PVwib3V0ZXJcIl1gKVxyXG4gICAgICAgICAgICBjb25zdCBpbm5lck5hbWUgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXBvc2l0aW9uLSR7c2VjdGlvbi5kYXRhc2V0Lm5hbWV9PVwiaW5uZXJcIl1gKVxyXG4gICAgICAgICAgICBpbml0VmVydGljYWxUZXh0U2xpZGVyKCcjbW9iaWxlVmVydGljYWxUZXh0U2xpZGVyJylcclxuICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcucHJvamVjdHMtc2xpZGVyJylcclxuICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcuaG9iYnktc2xpZGVyJylcclxuICAgICAgICAgICAgaW5pdE1lZGlhU2xpZGVyKClcclxuICAgICAgICAgICAgc3dpdGNoIChzZWN0aW9uLmRhdGFzZXQubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWJvdXQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTEnKS5jbGFzc0xpc3QuYWRkKCdzbGlkZS0xX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMycpLmNsYXNzTGlzdC5hZGQoJ3NsaWRlLTNfX3Njcm9sbGVkJylcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hvYmJ5JzpcclxuICAgICAgICAgICAgICAgICAgICBpbm5lck5hbWUuZm9yRWFjaChuYW1lID0+IG5hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0xJykuY2xhc3NMaXN0LmFkZCgnc2xpZGUtMV9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tbmFtZScpLmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tbmFtZV9fc2Nyb2xsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTInKS5jbGFzc0xpc3QuYWRkKCdzbGlkZS0yX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyTmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyTmFtZS5mb3JFYWNoKG5hbWUgPT4gbmFtZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJylcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncHJvamVjdHMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlubmVyTmFtZS5mb3JFYWNoKG5hbWUgPT4gbmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTInKS5jbGFzc0xpc3QuYWRkKCdzbGlkZS0yX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1uYW1lJykuY2xhc3NMaXN0LmFkZCgnc2VjdGlvbi1uYW1lX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyTmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyTmFtZS5mb3JFYWNoKG5hbWUgPT4gbmFtZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJylcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVkaWEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTEnKS5jbGFzc0xpc3QuYWRkKCdzbGlkZS0xX19zY3JvbGxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMicpLmNsYXNzTGlzdC5hZGQoJ3NsaWRlLTJfX3Njcm9sbGVkJylcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0yJykuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGV4cGFuZFByaW1hcnlTZWN0aW9uT25EZXNrdG9wOiAoc2VjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkZXNrdG9wUHJpbWFyeVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1zbGlkZXItZGVza3RvcCcpXHJcbiAgICAgICAgICAgIGNvbnN0IGFib3V0ID0gZGVza3RvcFByaW1hcnlXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJhYm91dFwiXScpXHJcbiAgICAgICAgICAgIGNvbnN0IGhvYmJ5ID0gZGVza3RvcFByaW1hcnlXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJob2JieVwiXScpXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RzID0gZGVza3RvcFByaW1hcnlXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJwcm9qZWN0c1wiXScpXHJcbiAgICAgICAgICAgIGNvbnN0IG1lZGlhID0gZGVza3RvcFByaW1hcnlXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJtZWRpYVwiXScpXHJcbiAgICAgICAgICAgIGluaXRWZXJ0aWNhbFRleHRTbGlkZXIoJyNkZXNrdG9wVmVydGljYWxUZXh0U2xpZGVyJylcclxuICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcuaG9iYnlkZXNrdG9wLScsICdhdXRvJylcclxuICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcucHJvamVjdHNkZXNrdG9wLScsICdhdXRvJylcclxuICAgICAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcubWVkaWFkZXNrdG9wLScsICdhdXRvJylcclxuICAgICAgICAgICAgc2VjdGlvbi5zdHlsZS53aWR0aCA9ICc5NSUnXHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHNlY3Rpb24uZGF0YXNldC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhYm91dCc6XHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1kZXNrdG9wX19jb250ZW50Jykuc3R5bGUucmlnaHQgPSAnY2FsYygxMDAlIC0gNDEycHgpJ1xyXG4gICAgICAgICAgICAgICAgICAgIGFib3V0LnN0eWxlLmxlZnQgPSAnMi41JSdcclxuICAgICAgICAgICAgICAgICAgICBob2JieS5zdHlsZS5sZWZ0ID0gJzk3LjUlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzLnN0eWxlLnJpZ2h0ID0gJy0yNSUnXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuc3R5bGUucmlnaHQgPSAnLTUwJSdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hvYmJ5JzpcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWRlc2t0b3BfX2NvbnRlbnQnKS5zdHlsZS5sZWZ0ID0gJzBweCdcclxuICAgICAgICAgICAgICAgICAgICBhYm91dC5zdHlsZS5sZWZ0ID0gJy0zMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgaG9iYnkuc3R5bGUubGVmdCA9ICcyLjUlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzLnN0eWxlLnJpZ2h0ID0gJy0xMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuc3R5bGUucmlnaHQgPSAnLTQwJSdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2plY3RzJzpcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLW5hbWUnKS5zdHlsZS5sZWZ0ID0gJzAnXHJcbiAgICAgICAgICAgICAgICAgICAgYWJvdXQuc3R5bGUubGVmdCA9ICctNTAlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGhvYmJ5LnN0eWxlLmxlZnQgPSAnLTIwJSdcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0cy5zdHlsZS5yaWdodCA9ICcyLjUlJ1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLnN0eWxlLnJpZ2h0ID0gJy0zMCUnXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVkaWEnOlxyXG4gICAgICAgICAgICAgICAgICAgIGFib3V0LnN0eWxlLmxlZnQgPSAnLTYwJSdcclxuICAgICAgICAgICAgICAgICAgICBob2JieS5zdHlsZS5sZWZ0ID0gJy0zMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHMuc3R5bGUucmlnaHQgPSAnOTcuNSUnXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuc3R5bGUucmlnaHQgPSAnMi41JSdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlUGFnZTogKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5jbGFzc0xpc3QuYWRkKCdwYWdlLWNoYW5naW5nJylcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGUudGFyZ2V0LmhyZWYsIDcwMClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoZWNrSXNBY3RpdmVMaW5rOiAobGluaykgPT4ge1xyXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIGxpbmsucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZGl2aWRlcicpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBpc01hcmtlZCA9IGZhbHNlO1xyXG4gICAgY29uc3QgbWVudUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGlmIChoYW1idXJnZXJNZW51LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKSAmJiB1dGlscy4kZWwoJy5oYW1idXJnZXJfX3NlY3Rpb25fX2ZpbmFsbHlfb3BlbmVkJykpIHtcclxuICAgICAgICAgICAgdXRpbHMuY2hlY2tJc0FjdGl2ZUxpbmsodXRpbHMuJGVsKCcuYWN0aXZlJykpXHJcbiAgICAgICAgICAgIGlzTWFya2VkID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpc01hcmtlZCAmJiBjbGVhckludGVydmFsKG1lbnVJbnRlcnZhbClcclxuICAgIH0sIDEwMClcclxuXHJcbiAgICAvLyDQmtC70L7QvdC40YDRg9C10Lwg0YjQsNC/0LrRgywg0YfRgtC+0LHRiyDQstGL0YfQuNGB0LvQuNGC0Ywg0LTQu9C40L3RgyDQv9GD0L3QutGC0L7QsiDQvNC10L3RjiDQtNC70Y8g0LjRhSDQv9C70LDQstC90L7QuSDQsNC90LjQvNCw0YbQuNC4XHJcbiAgICBhbmltYXRpb25zUG9seWdvbi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCBoYW1idXJnZXJNZW51LmNsb25lTm9kZSh0cnVlKSlcclxuICAgIGFuaW1hdGlvbnNQb2x5Z29uLnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXJTZWN0aW9uJykuaWQgPSAnJ1xyXG4gICAgY29uc3QgaGVhZGVyTGlua3NDb3B5ID0gYW5pbWF0aW9uc1BvbHlnb24ucXVlcnlTZWxlY3RvckFsbCgnYScpXHJcbiAgICBoZWFkZXJMaW5rc0NvcHkuZm9yRWFjaCgoYSwgaSkgPT4ge1xyXG4gICAgICAgIGlmIChpICE9PSBoZWFkZXJMaW5rc0NvcHkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBhLnN0eWxlLndpZHRoID0gJ2F1dG8nXHJcbiAgICAgICAgICAgIGEuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlc2t0b3AtbGlua3MnKS5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChhID0+IGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHV0aWxzLmNoYW5nZVBhZ2UoZSlcclxuICAgIH0pKVxyXG5cclxuICAgIGhhbWJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGhhbWJ1cmdlck1lbnUuY2xhc3NMaXN0LmFkZCgnaGFtYnVyZ2VyX19zZWN0aW9uX19vcGVuZWQnKVxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBoYW1idXJnZXJNZW51LmNsYXNzTGlzdC5hZGQoJ2hhbWJ1cmdlcl9fc2VjdGlvbl9fZmluYWxseV9vcGVuZWQnKVxyXG4gICAgICAgICAgICBoYW1idXJnZXJNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKS5mb3JFYWNoKChhLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaGVhZGVyTGlua3NDb3B5Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnN0eWxlLndpZHRoID0gaGVhZGVyTGlua3NDb3B5W2ldLm9mZnNldFdpZHRoICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5jaGFuZ2VQYWdlKGUpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAocHJpbWFyeSkge1xyXG5cclxuICAgICAgICBjb25zdCBkZXNrdG9wUHJpbWFyeVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1zbGlkZXItZGVza3RvcCcpXHJcbiAgICAgICAgY29uc3QgZGVza3RvcFByaW1hcnlTZWN0aW9ucyA9IGRlc2t0b3BQcmltYXJ5V3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1kZXNrdG9wJylcclxuICAgICAgICBjb25zdCBkZXNrdG9wUHJpbWFyeUlubmVyU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW1hcnlTd2lwZXJEZXNrdG9wJylcclxuICAgICAgICBkZXNrdG9wUHJpbWFyeVNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0RGVza3RvcElubmVyU2xpZGVyKHNlY3Rpb24uZGF0YXNldC5vcmRlcilcclxuICAgICAgICAgICAgICAgIHV0aWxzLmV4cGFuZFByaW1hcnlTZWN0aW9uT25EZXNrdG9wKHNlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVza3RvcFByaW1hcnlJbm5lclNsaWRlci5zdHlsZS50b3AgPSAnMCdcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGRlc2t0b3BQcmltYXJ5SW5uZXJTbGlkZXIuY2xhc3NMaXN0LmFkZCgnc2hvd2VkJyksIDM1MClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgJGlubmVyU2xpZGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5uZXItc2VjdGlvbi1zbGlkZXInKVxyXG5cclxuICAgICAgICBjb25zdCBwcm9qZWN0c1NsaWRlciA9IG5ldyBTd2lwZXIoJy5wcm9qZWN0cy1zbGlkZXInLCB7XHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNSxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyOiB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbENsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLy8gTmF2aWdhdGlvbiBhcnJvd3NcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLnByb2plY3RzLW5leHQnLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLnByb2plY3RzLXByZXYnLFxyXG4gICAgICAgICAgICAgICAgbG9ja0NsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IGluaXRJbm5lclNsaWRlciA9IChpbml0aWFsU2xpZGVQb3NpaXRvbikgPT4ge1xyXG4gICAgICAgICAgICBuZXcgU3dpcGVyKCcjaW5uZXJQcmltYXJ5U2xpZGVyJywge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbG9vcGVkU2xpZGVzOiA0LFxyXG4gICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAga2V5Ym9hcmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9ubHlJblZpZXdwb3J0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGluaXRpYWxTbGlkZTogTnVtYmVyKGluaXRpYWxTbGlkZVBvc2lpdG9uKSxcclxuICAgICAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gKHN3aXBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF0uY2hpbGROb2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF0uY2hpbGROb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcHJpbWFyeVNsaWRlciA9IG5ldyBTd2lwZXIoXCIjcHJpbWFyeVNsaWRlclwiLCB7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgbG9vcGVkU2xpZGVzOiA0LFxyXG4gICAgICAgICAgICAvLyBrZXlib2FyZDoge1xyXG4gICAgICAgICAgICAvLyAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gICAgIG9ubHlJblZpZXdwb3J0OiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgaW5pdGlhbFNsaWRlOiAwLFxyXG4gICAgICAgICAgICBvbjoge1xyXG4gICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLnpJbmRleCA9IHRoaXMuc2xpZGVzLmxlbmd0aCAtIG5cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlSW5kZXhdLnN0eWxlLnpJbmRleCA9IDEwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIChzd2lwZXIsIGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbGlkZSA9IGUucGF0aC5maW5kKGVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZWwuY2xhc3NMaXN0KS5pbmNsdWRlcygnc3dpcGVyLXNsaWRlLWFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS53aWR0aCA9ICcxMDIlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS5ib3hTaGFkb3cgPSAnbm9uZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVyLmRpc2FibGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3cmFwcGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzZWN0aW9uLmRhdGFzZXQubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Fib3V0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlciA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdyYXBwZXIucXVlcnlTZWxlY3RvcignLmlubmVyLXNlY3Rpb24tc2xpZGVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNsaWRlLTMnKS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FmdGVyYmVnaW4nLCAkaW5uZXJTbGlkZXJFbC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5uZXJTbGlkZXJFbC5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdElubmVyU2xpZGVyKHNlY3Rpb24uZGF0YXNldC5pbm5lcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmV4cGFuZFByaW1hcnlTZWN0aW9uKHNlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaG9iYnknOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2plY3RzJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtZWRpYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5pbm5lci1zZWN0aW9uLXNsaWRlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS0yJykuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZnRlcmJlZ2luJywgJGlubmVyU2xpZGVyRWwuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlubmVyU2xpZGVyRWwuaW5uZXJIVE1MID0gJydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRJbm5lclNsaWRlcihzZWN0aW9uLmRhdGFzZXQuaW5uZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5leHBhbmRQcmltYXJ5U2VjdGlvbihzZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyBhY3RpdmVJbmRleENoYW5nZTogZnVuY3Rpb24gKHN3aXBlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNsaWRlLnN0eWxlLndpZHRoID0gJzI1JSdcclxuICAgICAgICAgICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlSW5kZXhdLnN0eWxlLndpZHRoID0gJzQwJSdcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICAvLyAgIGVsOiBcIi5zd2lwZXItcGFnaW5hdGlvblwiLFxyXG4gICAgICAgICAgICAvLyAgIGNsaWNrYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBpbml0SW5uZXJTbGlkZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh1dGlscy4kZWwoJy5ibGFjay1zbGlkZXInKSkge1xyXG4gICAgICAgIG5ldyBTd2lwZXIoJy5ibGFjay1zbGlkZXInLCB7XHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDI0LFxyXG4gICAgICAgICAgICBzY3JvbGxiYXI6IHtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsQ2xhc3M6ICdkLW5vbmUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSA2MDBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ICs9IDIwMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGtleWJvYXJkOiB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb25seUluVmlld3BvcnQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1vdXNld2hlZWw6IHRydWUsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG5leHRFbDogYC5ibGFjay1zbGlkZXItbmV4dGAsXHJcbiAgICAgICAgICAgICAgICBwcmV2RWw6IGAuYmxhY2stc2xpZGVyLXByZXZgLFxyXG4gICAgICAgICAgICAgICAgbG9ja0NsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5ld3MpIHtcclxuICAgICAgICBpc01hcmtlZCAmJiBjbGVhckludGVydmFsKG1lbnVJbnRlcnZhbClcclxuICAgICAgICBsZXQgZGVsYXkgPSAyMDBcclxuICAgICAgICBuZXdzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXdzLWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGl0ZW0uc3R5bGUub3BhY2l0eSA9IDEsIGRlbGF5KVxyXG4gICAgICAgICAgICBkZWxheSArPSAyMDBcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBuZXcgU3dpcGVyKCcuaG9yaXpvbnRhbC1kZXNrdG9wLXNsaWRlcicsIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgOTk2OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDM2LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZXlib2FyZDoge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9ubHlJblZpZXdwb3J0OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3VzZXdoZWVsOiB0cnVlLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBuZXh0RWw6IGAuc3dpcGVyLWJ1dHRvbi1uZXh0YCxcclxuICAgICAgICAgICAgICAgIHByZXZFbDogYC5zd2lwZXItYnV0dG9uLXByZXZgLFxyXG4gICAgICAgICAgICAgICAgbG9ja0NsYXNzOiAnZC1ub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHV0aWxzLiRlbCgnLnNpbmdsZS1wYWdlJykpIHtcclxuXHJcbiAgICAgICAgaW5pdFZlcnRpY2FsU2xpZGVyKCcuc2luZ2xlLXNsaWRlcicsICdhdXRvJywgMzApXHJcbiAgICB9XHJcbn0pIl19
